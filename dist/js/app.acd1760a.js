(function(e){function t(t){for(var i,r,o=t[0],n=t[1],c=t[2],u=0,p=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&p.push(s[r][0]),s[r]=0;for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);d&&d(t);while(p.length)p.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],i=!0,r=1;r<a.length;r++){var n=a[r];0!==s[n]&&(i=!1)}i&&(l.splice(t--,1),e=o(o.s=a[0]))}return e}var i={},s={app:0},l=[];function r(e){return o.p+"js/"+({}[e]||e)+"."+{"chunk-2d0a3936":"de3bdbe3"}[e]+".js"}function o(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(e){var t=[],a=s[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,i){a=s[e]=[t,i]}));t.push(a[2]=i);var l,n=document.createElement("script");n.charset="utf-8",n.timeout=120,o.nc&&n.setAttribute("nonce",o.nc),n.src=r(e);var c=new Error;l=function(t){n.onerror=n.onload=null,clearTimeout(u);var a=s[e];if(0!==a){if(a){var i=t&&("load"===t.type?"missing":t.type),l=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+l+")",c.name="ChunkLoadError",c.type=i,c.request=l,a[1](c)}s[e]=void 0}};var u=setTimeout((function(){l({type:"timeout",target:n})}),12e4);n.onerror=n.onload=l,document.head.appendChild(n)}return Promise.all(t)},o.m=e,o.c=i,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(a,i,function(t){return e[t]}.bind(null,i));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=t,n=n.slice();for(var u=0;u<n.length;u++)t(n[u]);var d=c;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},1:function(e,t){},"56d7":function(e,t,a){"use strict";a.r(t);var i=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w-full fixed h-screen flex flex-col bg-gray-800",attrs:{id:"app"}},[e.$store.state.navigation.logged?a("div",{staticClass:"w-full flex flex-row"},[a("sidebar"),a("div",{staticClass:"w-full bg-gray-100 overflow-y-scroll"},[e.$route.meta.title?a("div",{staticClass:"bg-gray-800 w-full h-8 text-gray-400 flex items-center text-xs justify-center"},[e._v(e._s(e.$route.meta.title))]):e._e(),a("router-view")],1)],1):a("div",[a("Login")],1),e.navigation.loading?a("div",{staticClass:"fixed inset-0 z-10 bg-gray-700 bg-opacity-50 flex justify-center items-center h-screen"},[a("div",{staticClass:"p-8 bg-white rounded-lg bg-opacity-75 flex flex-col items-center shadow"},[e._v(" Loading ... "),a("icon",{staticClass:"animate-spin text-3xl text-gray-500",attrs:{icon:"cached"}})],1)]):e._e()])},l=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:"h-screen h-100 p-2 top-0 left-0 bg-gray-800 text-gray-500 text-xs "+e.sidebar_closed},[a("div",{staticClass:"flex items-center"},[a("i",{staticClass:"material-icons cursor-pointer",attrs:{title:"Espandi"},on:{click:function(t){e.menu_closed=!e.menu_closed}}},[e._v("menu")]),a("span",{staticClass:"text-md ml-4"},[e._v(e._s(e.title))])]),e._l(e.menu,(function(t,i){return[a("router-link",{key:"menu_"+i,staticClass:"my-2 w-full p-2 pl-0 flex items-center hover:text-white text-left cursor-pointer",attrs:{to:t.path,title:t.title},on:{click:function(a){return e.$router.push(t.path)}}},[a("i",{staticClass:"material-icons mr-1 text-xl"},[e._v(e._s(t.icon))]),e.menu_closed?e._e():a("span",{staticClass:"ml-2"},[e._v(e._s(t.title))])])]})),a("i",{staticClass:"material-icons fixed bottom-0 left-0 cursor-pointer text-md",attrs:{title:"Espandi"},on:{click:function(t){e.menu_closed=!e.menu_closed}}},[e._v(e._s(e.navigate_arrow))])],2)},o=[],n={name:"SideBarLeft",data:()=>({menu_closed:!0,menu:[{title:"Dashboard",icon:"dashboard",path:"/"},{title:"Status",icon:"pending_actions",path:"status"},{title:"Clienti",icon:"contacts",path:"clienti"},{title:"Agenda",icon:"event",path:"agenda"},{title:"Agenti",icon:"people",path:"agenti"}]}),computed:{title(){return this.menu_closed?"":"SAVEnergy CRM"},sidebar_closed(){return this.menu_closed?"w-full md:w-10":"w-full md:w-1/5"},navigate_arrow(){return this.menu_closed?"keyboard_arrow_right":"keyboard_arrow_left"},show_item(e){this.menu_closed&&this.$refs["item_"+e]}}},c=n,u=a("2877"),d=Object(u["a"])(c,r,o,!1,null,null,null),p=d.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w-full bg-gray-700 h-screen flex"},[a("div",{staticClass:"w-1/3 flex flex-col  m-auto border rounded"},[a("div",{staticClass:"title bg-blue-300 text-gray-800"},[e._v("Login")]),e._l(e.fields,(function(t,i){return[a("div",{key:"field_"+i,staticClass:"flex flex-row justify-start p-4"},[a("div",{staticClass:"w-1/3 text-left text-gray-200"},[e._v(e._s(t.label))]),"checkbox"===t.type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"w-2/3",attrs:{placeholder:t.label,type:"checkbox"},domProps:{checked:Array.isArray(t.value)?e._i(t.value,null)>-1:t.value},on:{change:function(a){var i=t.value,s=a.target,l=!!s.checked;if(Array.isArray(i)){var r=null,o=e._i(i,r);s.checked?o<0&&e.$set(t,"value",i.concat([r])):o>-1&&e.$set(t,"value",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(t,"value",l)}}}):"radio"===t.type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"w-2/3",attrs:{placeholder:t.label,type:"radio"},domProps:{checked:e._q(t.value,null)},on:{change:function(a){return e.$set(t,"value",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"w-2/3",attrs:{placeholder:t.label,type:t.type},domProps:{value:t.value},on:{input:function(a){a.target.composing||e.$set(t,"value",a.target.value)}}})])]})),a("div",{staticClass:"row justify-center p-4"},[a("button",{staticClass:"bg-blue-100 py-2 px-4 rounded",on:{click:e.login}},[e._v("Login")])])],2)])},f=[],g={name:"Login",data:()=>({settings:null,fields:[{name:"email",label:"Utente",value:"",type:"text"},{name:"password",label:"Password",value:"",type:"password"}]}),methods:{login(){this.$api.authenticate({email:this.fields[0].value,password:this.fields[1].value,strategy:"local"}).then(e=>{this.$store.dispatch("SetUser",e),this.$store.dispatch("SetLogged",!0)}).catch(e=>{console.log("non autenticato",e)})}}},m=g,v=Object(u["a"])(m,h,f,!1,null,null,null),_=v.exports,y=a("2f62"),b={name:"App",components:{Sidebar:p,Login:_},data:()=>({products:null}),computed:{...Object(y["b"])(["navigation"])},methods:{active(e){return this.$route.fullPath===e?"font-bold text-red-700":""}},beforeMount(){this.$api.authenticate().then(e=>{this.$store,console.log("Authenticated"),this.$api.service("agenti").find().then(e=>{this.$store.dispatch("setAgenti",e)}),this.$api.service("processi").find().then(e=>{console.log("Processi => ",e),this.$store.dispatch("setProcessi",e)}),this.$api.service("gruppi").find().then(e=>{console.log("Gruppi => ",e),this.$store.dispatch("setGruppi",e)})})}},x=b,k=(a("034f"),Object(u["a"])(x,s,l,!1,null,null,null)),w=k.exports,C=a("8c4f"),$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"})},D=[],S={name:"home",beforeMount(){}},A=S,P=Object(u["a"])(A,$,D,!1,null,null,null),O=P.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.status?a("div",{staticClass:"flex flex-row p-2 pb-64 overflow-y-auto"},[a("div",{staticClass:"w-3/4 flex flex-col relative shadow-lg"},[a("div",{staticClass:"w-full text-left h-8 flex flex-row items-center"},[a("icon",{attrs:{icon:"filter_alt"},on:{click:function(t){e.filtro=!e.filtro}}}),a("div",{staticClass:"flex flex-row text-xs justify-between"},[e.id_agente?a("div",{staticClass:"mx-2"},[a("span",[e._v("Agente:")]),e._v(" "),a("span",{staticClass:"font-bold"},[e._v(e._s(e.filtroText.agente?e.filtroText.agente:""))])]):e._e(),e.id_processo?a("div",[a("span",[e._v("Processo:")]),a("span",{staticClass:"font-bold"},[e._v(" "+e._s(e.filtroText.processo?e.filtroText.processo:""))])]):e._e()])],1),a("transition",{attrs:{name:"fade"}},[e.filtro?a("div",{staticClass:"w-full p-1 flex absolute z-10 top-0"},[a("div",{staticClass:"flex flex-col w-1/2 shadow-lg p-4 bg-gray-300 relative text-left"},[a("div",[e._v("Filtri")]),a("icon",{staticClass:"absolute right-0 top-0 m-1 text-sm",attrs:{icon:"close"},on:{click:function(t){e.filtro=!e.filtro}}}),a("div",{staticClass:"flex flex-col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"border-r border-l border-b text-left text-xs",attrs:{type:"text",placeholder:"Cerca cliente..."},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),a("select",{directives:[{name:"model",rawName:"v-model",value:e.id_agente,expression:"id_agente"}],staticClass:"my-2",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.id_agente=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("Cerca Agente ...")]),e._l(e.agenti,(function(t,i){return a("option",{staticClass:"lowercase capitalize",domProps:{value:t.id_persona}},[e._v(e._s(t.ac_cognome)+" "+e._s(t.ac_nome))])}))],2),a("select",{directives:[{name:"model",rawName:"v-model",value:e.id_processo,expression:"id_processo"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.id_processo=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("Cerca processo ...")]),e._l(e.tables.processi.data,(function(t){return a("option",{domProps:{value:t.id_processo}},[e._v(e._s(t.ac_processo))])}))],2)]),a("div",{staticClass:"flex flex-row my-2 items-center"},[a("div",{staticClass:"flex flex-row w-1/2"},[a("datepicker",{attrs:{type:"date"},model:{value:e.fromDate,callback:function(t){e.fromDate=t},expression:"fromDate"}}),a("div",{staticClass:"w-4"}),a("datepicker",{attrs:{type:"date"},model:{value:e.toDate,callback:function(t){e.toDate=t},expression:"toDate"}})],1),a("div",{staticClass:"flex flex-row justify-end w-1/2"},[a("button",{staticClass:"button bg-blue-400 text-white p-2 hover:bg-blue-600",on:{click:function(t){e.qry(),e.filtro=!e.filtro,e.skip=0}}},[e._v("Cerca")]),a("button",{staticClass:"button",on:{click:function(t){e.resetQry(),e.filtro=!e.filtro}}},[e._v("Reset")])])])],1)]):e._e()]),a("table",{staticClass:"w-full border-r border-l border-b text-left text-xs min-h-100"},[a("thead",{staticClass:"text-xs py-2 bg-gray-500  text-white uppercase"},[a("th",{staticClass:"border-b border-r px-1 py-2 border-r"},[e._v("#")]),e._l(e.columns.fields,(function(t,i){return[t.hide?e._e():a("th",{key:"head_"+t.key+"_"+i,staticClass:"border-r px-1"},[e._v(e._s(t.label))])]}))],2),e._l(e.status,(function(t,i){return[a("tr",{key:"row_"+i,staticClass:"cursor-pointer hover:bg-gray-400",class:e.id_cliente===t.id_cliente?"bg-blue-300 font-bold":"",on:{click:function(a){e.id_cliente=t.id_cliente}}},[a("td",{staticClass:"w-8 py-1 px-1 border-r uppercase"},[e._v(e._s(e.skip+i+1))]),e._l(e.columns.fields,(function(s,l){return[s.hide?e._e():a("td",{key:"col_"+i+"_"+l,staticClass:"py-0 px-1 border-r uppercase bg-opacity-50",style:"ac_processo"===s.key?e.stile(t.ac_colore,s.style):""},["text"===s.style?a("span",[e._v(e._s(t[s.key]))]):e._e(),"list_icon"===s.style?a("img",{attrs:{title:t.ac_segnalatore,src:"icons/"+t[s.key].replace("knobs/","")}}):e._e()])]}))],2)]}))],2),a("div",{staticClass:"flex flex-row items-center justify-around"},[a("icon",{staticClass:"text-xl",attrs:{icon:"arrow_back_ios"},on:{click:function(t){e.skip>0?e.skip-=e.limit:e.skip=0}}}),a("div",{staticClass:"flex flex-row text-xs"},[e._v(" Pagina "+e._s(e.skip/e.limit+1)+" ")]),a("icon",{staticClass:"text-xl",attrs:{icon:"arrow_forward_ios"},on:{click:function(t){e.skip+=e.limit}}})],1)],1),a("div",{staticClass:"w-1/4 mt-8 shadow-lg bg-gray-200"},[a("CustomerStatus",{attrs:{id_cliente:e.id_cliente}})],1)]):e._e()},F=[],E={name:"UiStatus",components:{CustomerStatus:()=>a.e("chunk-2d0a3936").then(a.bind(null,"0385"))},data:()=>({filtro:!1,filtroText:{},status:null,loading:!1,skip:0,limit:25,order:null,filter:null,search:"",id_cliente:null,id_agente:"",id_processo:"",fromDate:null,toDate:null,columns:{fields:[{key:"id_cliente",label:"ID",style:"text",hide:!0},{key:"ac_icona",label:"",style:"list_icon",table:!0},{key:"ac_cognome",label:"Cognome",style:"text",table:!0},{key:"ac_nome",label:"Nome",style:"text",table:!0},{key:"ac_citta",label:"Citta",style:"text",table:!0},{key:"agente",label:"Agente",style:"text",table:!0,relation:"agenti",id:"id_persona"},{key:"data_status",label:"Data",style:"text"},{key:"ac_processo",label:"Azione",style:"text",table:!0}]}}),computed:{...Object(y["b"])(["tables"]),agenti(){let e=this.tables.agenti.data.sort((e,t)=>e.ac_cognome.toLowerCase()>t.ac_cognome.toLowerCase()?1:e.ac_cognome.toLowerCase()<t.ac_cognome.toLowerCase()?-1:void 0);return e}},watch:{skip(){this.id_cliente=null,this.qry()},id_agente(e){this.filtroText["agente"]=this.tables.agenti.data.filter(t=>t.id_persona===e)[0].ac_cognome},id_processo(e){this.filtroText["processo"]=this.tables.processi.data.filter(t=>t.id_processo===e)[0].ac_processo}},methods:{qry(){this.$store.dispatch("loading");const e={skip:this.skip,limit:this.limit,order:this.order,filter:this.filter,search:this.search,id_persona:this.id_agente,id_processo:this.id_processo,dt_from:this.fromDate?this.fromDate.toISOString().split("T")[0]:null,dt_to:this.toDate?this.toDate.toISOString().split("T")[0]:null};this.$api.service("status").find({query:e}).then(e=>{this.$store.dispatch("loading"),this.status=e[0],this.$store.dispatch("setStatus",e[0])})},resetQry(){this.filtroText={},this.skip=0,this.limit=25,this.order=null,this.filter=null,this.search=null,this.id_agente=null,this.id_processo=null,this.fromDate=null,this.toDate=null,this.qry()},stile(e,t){return"text"===t?"background-color:#"+e:"width:30px;"}},beforeMount(){this.qry()},mounted(){this.loading=!0,window.addEventListener("keydown",e=>{33===e.keyCode&&(this.id_cliente=null,this.skip>0&&(this.skip-=this.limit)),34===e.keyCode&&(this.id_cliente=null,this.skip+=this.limit)})}},M=E,T=Object(u["a"])(M,j,F,!1,null,null,null),z=T.exports,Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w-full p-2  pb-20",staticStyle:{"padding-bottom":"10rem"}},[e.edit?a("div",{staticClass:"mt-8 w-full w-1/2 md:w-1/3 fixed top-0 right-0 h-screen border p-2 bg-white"},[e.selected?a("ui-crud",{attrs:{fields:e.columns,title:"Cliente",record:e.selected}}):e._e(),a("div",{staticClass:"w-full flex flex-row justify-end"},[a("button",{staticClass:"btn-green",on:{click:function(t){e.edit=!e.edit}}},[e._v("Salva")]),a("button",{on:{click:function(t){e.edit=!e.edit}}},[e._v("Chiudi")])])],1):e._e(),a("ui-table",{attrs:{columns:e.columns,service:"clienti",sort:"dt_data_registrazione"},on:{selected:e.what}})],1)},q=[],N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.dataset?a("div",{staticClass:"w-full p-2  pb-20",staticStyle:{"padding-bottom":"10rem"}},[a("table",{staticClass:"w-full border border-gray-800 text-left text-xs min-h-100"},[a("thead",{staticClass:"text-xs py-2 bg-gray-500 text-white uppercase"},[a("th",{staticClass:"border-b border-r px-1 py-2 border-r"},[e._v("#")]),e._l(e.columns,(function(t,i){return[!t.hide&&t.view?a("th",{key:"head_"+t.key+"_"+i,staticClass:"border-r px-1"},[e._v(e._s(t.label))]):e._e()]})),a("th")],2),e._l(e.dataset.data,(function(t,i){return[a("tr",{key:"row_"+i,class:"cursor-pointer hover:bg-gray-400 "+e.striped(i),on:{click:function(a){e.$emit("selected",t),e.selectedRow=i}}},[a("td",{staticClass:"w-12 py-1 px-1 border-r uppercase"},[e._v(e._s(e.$store.getters.skip+i+1))]),e._l(e.columns,(function(s,l){return[!s.hide&&s.view?a("td",{key:"col_"+i+"_"+l,staticClass:"py-0 px-1 border-r",class:s.class?s.class:"uppercase"},["text"!==s.type||s.format?e._e():a("span",[e._v(e._s(t[s.key]))]),"text"===s.type&&"date"===s.format?a("span",[e._v(" "+e._s(t[s.key].split("-")[2].split("T")[0])+"-"+e._s(t[s.key].split("-")[1])+"-"+e._s(t[s.key].split("-")[0])+" ")]):e._e(),s.relation?a("span",[e._v(" "+e._s(e.getRelation(s.relation,s.id,t[s.key],s))+" ")]):e._e(),"boolean"===s.type?a("span",[e._v(" "+e._s(s.key)+" "),(s.default?t[s.key]>0:1===t[s.key])?a("i",{staticClass:"material-icons"},[e._v("done")]):e._e()]):e._e(),"checkbox"===s.type?a("span",[(s.default?t[s.key]>0:0===t[s.key])?a("icon",{staticClass:"text-green-500",attrs:{icon:"done"}}):a("icon",{staticClass:"text-red-500",attrs:{icon:"close"}})],1):e._e(),"list"===s.type?a("select",{directives:[{name:"model",rawName:"v-model",value:t[s.key],expression:"row[field.key]"}],on:{change:function(a){var i=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,s.key,a.target.multiple?i:i[0])}}},[e._l(e.$store.getters[s.list].label,(function(t,i){return[a("option",{domProps:{value:i}},[e._v(e._s(t))])]}))],2):e._e(),"list_icon"===s.type?a("img",{attrs:{title:e.$store.getters[s.list].label[t[s.key]],src:e.$store.getters[s.list].icon[t[s.key]]}}):e._e()]):e._e()]})),a("td",{staticClass:"px-2"},[a("i",{staticClass:"material-icons text-xs",on:{click:function(a){return e.$emit("selected",t)}}},[e._v("edit")])])],2)]}))],2),e.notfound?a("div",{staticClass:"w-full"},[e._m(0)]):e._e(),a("div",{staticClass:"w-full flex flex-row mt-2 items-center text-xs text-left"},[a("button",{staticClass:"btn-light mr-2 hover:bg-gray-500 text-xs p-0",on:{click:function(t){e.$store.getters.skip>0&&e.prevPage()}}},[a("i",{staticClass:"material-icons"},[e._v("keyboard_arrow_left")])]),a("button",{staticClass:"btn-light mr-2 hover:bg-gray-500 text-xs p-0",on:{click:e.nextPage}},[a("i",{staticClass:"material-icons"},[e._v("keyboard_arrow_right")])]),a("button",{staticClass:"btn-light mr-2"},[e._v("Record "+e._s(e.$store.getters.skip+1)+"-"+e._s(e.$store.getters.skip+20)+" di "+e._s(e.dataset.total))]),a("button",{staticClass:"btn-light"},[e._v("Pagina "+e._s(parseInt(e.$store.getters.skip/20)+1)+" di "+e._s(parseInt(e.dataset.total/20)+1))]),a("label",[e._v("Cerca")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"mx-2 w-1/5",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.search=t.target.multiple?a:a[0]}}},[e._l(e.columns,(function(t,i){return[t.searchable?a("option",{domProps:{value:t.key}},[e._v(e._s(t.label))]):e._e()]}))],2),a("div",{staticClass:"w-1/4"},[e.searchArray?a("select",{directives:[{name:"model",rawName:"v-model",value:e.searchRelation,expression:"searchRelation"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.searchRelation=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("Seleziona ...")]),e._l(e.searchArray,(function(t,i){return a("option",{domProps:{value:"simple"!=e.searchField?t[e.searchField]:i}},[e._v(e._s("simple"===e.searchField?t:t[e.searchText]))])}))],2):e._e(),e.searchArray?e._e():a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],staticClass:"w-20",attrs:{type:"text",placeholder:"cerca..."},domProps:{value:e.searchValue},on:{input:function(t){t.target.composing||(e.searchValue=t.target.value)}}})]),a("button",{staticClass:"text-xs ml-2",on:{click:e.searchData}},[a("i",{staticClass:"material-icons text-sm"},[e._v("search")])]),a("button",{staticClass:"text-xs ml-2",on:{click:e.resetData}},[e._v("Annulla")])]),e.edit?a("div",{staticClass:"w-full md:w-1/2 fixed top-0 right-0 h-screen border p-2 bg-gray-200"},[a("div",{staticClass:"w-full flex flex-row justify-end"},[a("button",{staticClass:"btn-green",on:{click:function(t){e.edit=!e.edit}}},[e._v("Salva")]),a("button",{on:{click:function(t){e.edit=!e.edit}}},[e._v("Chiudi")])])]):e._e()]):e._e()},I=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w-1/2 mt-2 m-auto bg-red-300 border rounded p-12"},[a("h2",[e._v("Nessun record soddisfa la condizione di ricerca")])])}],L={name:"UiTable",data:()=>({edit:!1,dataset:null,skip:0,selectedRow:-1,search:"",searchRelation:"",searchValue:"",searchArray:null,searchField:null,searchText:null,notfound:!1}),props:{service:{type:String,required:!0,default:"clienti"},sort:{type:String,required:!1,default:""},columns:{type:Array,required:!0,default:()=>[]}},computed:{...Object(y["b"])(["tables"])},watch:{search(e){let t=this.columns.filter(t=>t.key===e);t[0].relation?(this.searchField=t[0].simple?"simple":t[0].key,this.searchText=t[0].display,this.searchArray=this.tables[t[0].relation].hasOwnProperty("data")?this.tables[t[0].relation].data:this.tables[t[0].relation][t[0].subset]):this.searchArray=null}},methods:{striped(e){return e%2?this.selectedRow===e?"bg-blue-300":"bg-gray-200":""},colOutput(e,t){if("bl_attivo"===e)return t?"text-green-500":"text-red-500"},getRelation(e,t,a,i){console.log(i);let s=this.tables[i.relation];if(s){let e=s[i.subset].filter(e=>e[t]===a);return e.length?e[0][i.display]:""}return null},getData(){this.notfound=!1;let e={query:{$limit:20,$skip:this.$store.getters.skip,$sort:this.$store.getters.clienti_sort}};this.$store.dispatch("loading"),this.$api.service(this.service).find(e).then(e=>{this.dataset=e,this.$store.dispatch("loading")})},searchData(){this.notfound=!1;let e={$limit:20,$skip:this.$store.getters.skip,$sort:this.$store.getters.clienti_sort};e[this.search]={$like:this.searchValue+"%"};let t={query:e};this.$store.dispatch("loading"),this.$api.service(this.service).find(t).then(e=>{this.dataset=e,e.data.length?this.notfound=!1:this.notfound=!0,this.$store.dispatch("loading")})},nextPage(){this.$store.dispatch("SetSkip",parseInt(this.$store.getters["skip"])+20),this.search&&this.searchValue?this.searchData():this.getData()},prevPage(){this.$store.dispatch("SetSkip",parseInt(this.$store.getters["skip"])-20),this.search&&this.searchValue?this.searchData():this.getData()},resetData(){this.getData()}},mounted(){this.getData()}},R=L,U=Object(u["a"])(R,N,I,!1,null,null,null),V=U.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"bg-gray-500 text-white p-1 font-bold"},[e._v(e._s(e.$attrs.title))]),a("div",{staticClass:"w-full flex flex-row flex-wrap justify-left text-left"},[e._l(e.fields,(function(t,i){return[t.editable?a("div",{key:"field_"+i,staticClass:"w-full md:w-1/2 px-2"},[a("label",{staticClass:"text-xs font-bold"},[e._v(e._s(t.label))]),a("br"),"text"===t.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.record[t.key],expression:"record[field.key]"}],attrs:{type:"text"},domProps:{value:e.record[t.key]},on:{input:function(a){a.target.composing||e.$set(e.record,t.key,a.target.value)}}}):e._e(),"checkbox"===t.type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.default?e.record[t.key]:!e.record[t.key],expression:"field.default?record[field.key]:!record[field.key]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.default?e.record[t.key]:!e.record[t.key])?e._i(t.default?e.record[t.key]:!e.record[t.key],null)>-1:t.default?e.record[t.key]:!e.record[t.key]},on:{change:function(a){var i=t.default?e.record[t.key]:!e.record[t.key],s=a.target,l=!!s.checked;if(Array.isArray(i)){var r=null,o=e._i(i,r);s.checked?o<0&&e.$set(t.default?e.record[t.key]:!e.record,t.key,i.concat([r])):o>-1&&e.$set(t.default?e.record[t.key]:!e.record,t.key,i.slice(0,o).concat(i.slice(o+1)))}else e.$set(t.default?e.record[t.key]:!e.record,t.key,l)}}}):e._e(),"relation"===t.type?a("select",{directives:[{name:"model",rawName:"v-model",value:e.record[t.key],expression:"record[field.key]"}],on:{change:function(a){var i=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.record,t.key,a.target.multiple?i:i[0])}}},e._l(e.tables[t.relation][t.subset],(function(i,s){return"relation"===t.type?a("option",{key:"opt_"+t.key+"_"+s,domProps:{value:t.simple?s:i[t.id]}},[e._v(" "+e._s(t.simple?i:i[t.display])+" ")]):e._e()})),0):e._e()]):e._e()]}))],2)])},H=[],Q={name:"UiCrud",props:{record:{type:Object,required:!0,default:()=>{}},fields:{type:Array,required:!0,default:()=>[]}},computed:{...Object(y["b"])(["tables"])}},B=Q,W=Object(u["a"])(B,G,H,!1,null,null,null),J=W.exports,K={name:"CRMCustomers",components:{UiTable:V,UiCrud:J},data:()=>({customers:null,data:null,selected:null,edit:!1,columns:[{key:"ac_cognome",label:"Cognome",type:"text",view:!0,editable:!0,searchable:!0},{key:"ac_nome",label:"Nome",type:"text",view:!0,editable:!0,searchable:!0},{key:"ac_indirizzo",label:"Indirizzo",type:"text",view:!0,editable:!0,searchable:!0},{key:"ac_citta",label:"Citta",type:"text",view:!0,editable:!0,searchable:!0},{key:"ac_pv",label:"PV",type:"text",view:!0,editable:!0,searchable:!0},{key:"ac_telefono",label:"Telefono",type:"text",view:!1,editable:!0,searchable:!1},{key:"ac_celluare",label:"Mobile",type:"text",view:!1,editable:!0,searchable:!1},{key:"ac_email",label:"Email",type:"text",view:!1,editable:!0,searchable:!1},{key:"bl_attivo",label:"Ass",type:"boolean",icon:"lens",view:!0,editable:!1},{key:"id_qualifica",label:"Qualifica",type:"list_icon",list:"qualifiche",view:!0,editable:!1,searchable:!1},{key:"id_qualifica",label:"Qualifica",type:"relation",relation:"qualifiche",display:"ac_qualifica",subset:"label",simple:!0,hide:!0,editable:!0,searchable:!0},{key:"id_agente",label:"Agente",type:"relation",relation:"agenti",display:"ac_azienda",id:"id_persona",subset:"data",view:!0,editable:!0,searchable:!0},{key:"dt_data_registrazione",label:"Registrato",type:"text",format:"date",view:!0,editable:!1,searchable:!0},{key:"ac_segnalatore",label:"Segnalatore",type:"text",view:!0,editable:!0,searchable:!0}],customers:null,data:null,options:{editableColumns:["id_cliente"],sortable:["id_cliente"],filterable:["id_cliente"]},skip:0}),methods:{striped(e){return e%2?"bg-gray-200":""},colOutput(e,t){if("bl_attivo"===e)return t?"text-green-500":"text-red-500"},getData(e,t,a){let i=this.$store.getters[e],s=i.data.filter(e=>e[t]===a);return s.length?s[0].ac_cognome:""},getCustomers(){let e={skip:this.$store.getters.skip,limit:20};this.$api.service("clienti").find({query:e}).then(e=>{this.customers=e[0],this.data=e[0]})},nextPage(){this.$store.dispatch("SetSkip",parseInt(this.$store.getters["skip"])+20),this.getCustomers()},prevPage(){this.$store.dispatch("SetSkip",parseInt(this.$store.getters["skip"])-20),this.getCustomers()},what(e){this.edit=!0,this.selected=e,console.log(e)}},mounted(){let e={skip:this.$store.getters.skip,limit:20};this.$api.service("clienti").find({query:e}).then(e=>{this.customers=e[0],this.data=e[0]})}},X=K,Z=Object(u["a"])(X,Y,q,!1,null,null,null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"p-4 relative w-full min-h-screen"},[e.selectedEvent?a("div",{staticClass:"fixed inset-0 z-2 flex justify-center items-center h-screen"},[a("div",{staticClass:"w-1/4 p-4 flex flex-col text-left text-sm p-2 relative bg-white rounded-lg shadow-lg border-4",style:"border-color:"+e.selectedEvent.backgroundColor},[a("div",{staticClass:"flex flex-row justify-end absolute right-0 top-0"},[a("icon",{staticClass:"text-base",attrs:{icon:"save",title:"Salva"},on:{click:function(t){e.selectedEvent=null}}}),a("icon",{staticClass:"mx-2 text-base",attrs:{icon:"delete",title:"Elimina"},on:{click:function(t){e.selectedEvent=null}}}),a("icon",{staticClass:"text-base",attrs:{icon:"close",title:"Chiudi"},on:{click:function(t){e.selectedEvent=null}}})],1),a("div",[e._v("Cliente: "+e._s(e.selectedEvent.extendedProps.cliente.toUpperCase()))]),a("div",[e._v("Citta: "+e._s(e.selectedEvent.extendedProps.citta.toUpperCase()))]),a("div",[e._v("Telefono: "+e._s(e.selectedEvent.extendedProps.telefono))]),a("div",[e._v("Agente "+e._s(e.selectedEvent.extendedProps.agente))]),a("div",[e._v("Azione: "+e._s(e.selectedEvent.extendedProps.azione))]),a("div",[e._v("Note: "),a("br"),a("textarea",{staticClass:"text-xs h-24 w-full"},[e._v(e._s(e.selectedEvent.extendedProps.notes))])])])]):e._e(),a("div",{staticClass:"justify-center overflow-y-auto flex w-full flex-col cursor-pointer"},[a("FullCalendar",{ref:"fullCalendar",attrs:{options:e.config},on:{prev:function(t){return e.prev()}}})],1)])},ae=[],ie=(a("5574"),a("f5ff")),se=a("3cdd"),le=a("3e32"),re=a("e44e"),oe=a("a20c"),ne={name:"AgendaUI",data:()=>({today:new Date,mode:"dayGridMonth",isDay:!1,calendarOptions:{plugins:[se["b"],le["a"],re["a"],oe["a"]],initialView:"timeGridWeek",events:[],locale:"it",weekends:!1,height:650,slotMinTime:"07:00:00",slotMaxTime:"23:00:00",headerToolbar:{start:"",center:"title",end:"today,timeGridWeek,dayGridMonth prev,next"}},calendarApi:null,selectedEvent:null,isRun:!1}),components:{FullCalendar:ie["a"]},computed:{...Object(y["b"])(["tables"]),config(){return{...this.calendarOptions,...this.eventHandlers}},eventHandlers(){return{dateClick:this.onDateClick,eventClick:this.onEventClick,eventDrop:this.onEventDrop,eventResize:this.onEventDrop,datesSet:this.onDateSelect}}},methods:{qry(){let e=this.today.toISOString().split("T")[0],t={dt_from:e};this.$store.dispatch("loading"),console.log(t),this.$api.service("status").find({query:t}).then(e=>{this.calendarOptions["events"]=e[0].map(e=>({title:e.agente+" - "+e.ac_processo,start:e.dt_status,backgroundColor:"#"+e.ac_colore,id:e.id_status,notes:e.ac_note,agente:e.agente,azione:e.ac_processo,cliente:e.ac_cognome,citta:e.ac_citta,telefono:e.ac_telefono})),this.$store.dispatch("loading")})},skip(e){console.log(e);let t=new Date(this.today);t.setDate(t.getDate()+e),this.today=t},onDateClick(e){this.calendarOptions.initialView="listDay",this.calendarOptions.initialDate=e.date,this.today=e.date,this.isDay=!0},onEventClick(e){this.selectedEvent=e.event},onDateSelect(e){this.today=e.start}},mounted(){this.qry(),this.calendarApi=this.$refs.fullCalendar.getApi();let e=document.querySelector(".fc-prev-button");e.addEventListener("click",()=>{this.qry()});let t=document.querySelector(".fc-next-button");t.addEventListener("click",()=>{this.qry()})}},ce=ne,ue=Object(u["a"])(ce,te,ae,!1,null,null,null),de=ue.exports,pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.tables.agenti?a("div",[e.agente?a("div",{staticClass:"mt-8 w-full w-1/2 md:w-1/3 fixed top-0 right-0 h-screen border p-2 bg-white"},[e.agente?a("ui-crud",{attrs:{fields:e.columns.fields,title:"Agente",record:e.agente}}):e._e(),a("div",{staticClass:"w-full flex flex-row justify-end"},[a("button",{staticClass:"btn-green",on:{click:function(t){e.agente=null}}},[e._v("Salva")]),a("button",{on:{click:function(t){e.agente=null}}},[e._v("Chiudi")])])],1):e._e(),a("ui-table",{attrs:{columns:e.columns.fields,service:"agenti",sort:""},on:{selected:e.selected}})],1):e._e()},he=[];const fe={agenti:{fields:[{key:"id_persona",label:"ID",type:"text",hide:!0,editable:!1,searchable:!1},{key:"ac_cognome",label:"Cognome",type:"text",view:!0,editable:!0,searchable:!0},{key:"ac_nome",label:"Nome",type:"text",view:!0,editable:!0,searchable:!0},{key:"ac_email",label:"Email",type:"text",class:"lowercase",view:!0,editable:!0,searchable:!0},{key:"ac_telefono",label:"Telefono",type:"text",view:!0,editable:!0,searchable:!0},{key:"ac_cellulare",label:"Mobile",type:"text",view:!0,editable:!0,searchable:!0},{key:"id_gruppo",label:"Gruppo",type:"relation",relation:"gruppi",display:"ac_gruppo",id:"id_gruppo",subset:"data",view:!0,editable:!0,searchable:!0},{key:"bl_cancellato",label:"Attivo",type:"checkbox",default:!1,view:!0,editable:!0,searchable:!0}]}};var ge=fe,me={name:"AgentiUI",data:()=>({agente:null}),computed:{...Object(y["b"])(["tables"]),columns(){return ge.agenti}},methods:{selected(e){this.agente=e}}},ve=me,_e=Object(u["a"])(ve,pe,he,!1,null,null,null),ye=_e.exports;i["a"].use(C["a"]);const be=[{path:"/",name:"home",component:O,meta:{title:"Dashboard"}},{path:"/status",name:"status",component:z,meta:{title:"Status"}},{path:"/clienti",name:"clienti",component:ee,meta:{title:"Gestione Clienti"}},{path:"/agenda",name:"agenda",component:de,meta:{title:"Agenda"}},{path:"/agenti",name:"agenti",component:ye,meta:{title:"Agenti"}}],xe=new C["a"]({mode:"history",base:"/",routes:be,scrollBehavior(e,t,a){return{x:0,y:0}}});var ke=xe;const we={navigation:e=>e.navigation,home:e=>e.navigation.home,menu_header:e=>e.navigation.menu.header,menu_footer:e=>e.navigation.menu.footer,pagine:e=>e.navigation.pagine,skip:e=>e.navigation.skip,user:e=>e.navigation.user,logged:e=>e.navigation.logged,clienti_sort:e=>e.tables.clienti.sort,qualifiche:e=>e.tables.qualifiche,agenti:e=>e.tables.agenti};var Ce=we;const $e={state:{locale:null,home:"http://www.savinimilano.com/",user:null,logged:!1,menu:{header:[{name:"alimentare",active:"/img/industria-alimentare-on.png",off:"/img/industria-alimentare-off.png"},{name:"chimico-minerario",active:"/img/settore-chimico-minerario-on.png",off:"/img/settore-chimico-minerario-off.png"},{name:"farmaceutico",active:"/img/industria-farmaceutica-on.png",off:"/img/industria-farmaceutica-off.png"}],footer:[{title:"Azienda",items:[{title:"Chi Siamo",path:"/azienda/chi-siamo",top:!0},{title:"Storia",path:"/azienda/storia",top:!1},{title:"Rappresentanze",path:"/azienda/rappresentanze",top:!1},{title:"Contatti",path:"/azienda/contatti",top:!0}]}]},pagine:null,skip:0,loading:!1},mutations:{locale(e,t){e.locale=t},user(e,t){e.user=t},logged(e,t){e.logged=t},pagine(e,t){e.pagine=t},skip(e,t){e.skip=t},loading(e,t){e.loading=!e.loading}},actions:{SetLocale({commit:e},t){e("locale",t)},SetUser({commit:e},t){e("user",t)},SetLogged({commit:e},t){e("logged",t)},SetPagine({commit:e},t){e("pagine",t)},SetSkip({commit:e},t){e("skip",t)},loading({commit:e},t){e("loading",t)}}};var De=$e;const Se={state:{qualifiche:{label:["","STANDARD","DATI ERRATI","MAI FATTO RICHIESTA","NON RISPONDE"],icon:["","icons/flag_green.gif","icons/flag_red.gif","img/icons/flag_blue.gif","icons/flag_orange.gif"]},status:null,clienti:{sort:{dt_data_registrazione:-1},fields:[{key:"id_cliente",label:"ID",hide:!0},{key:"ac_cognome",label:"Cognome",style:"text",table:!0},{key:"ac_nome",label:"Nome",style:"text",table:!0},{key:"ac_indirizzo",label:"Indirizzo",style:"text",table:!0},{key:"ac_citta",label:"Citta",style:"text",table:!0},{key:"bl_attivo",label:"Ass",style:"status",table:!0,icon:"lens"},{key:"id_agente",label:"Agente",style:"table",table:!0,relation:"agenti",id:"id_persona"},{key:"dt_data_registrazione",label:"Registrato",style:"data"},{key:"ac_segnalatore",label:"Segnalatore",style:"text",table:!0}]},agenti:null,processi:null,gruppi:null},mutations:{agenti(e,t){e.agenti=t},processi(e,t){e.processi=t},status(e,t){e.status=t},gruppi(e,t){e.gruppi=t}},actions:{setStatus({commit:e},t){e("status",t)},setAgenti({commit:e},t){e("agenti",t)},setProcessi({commit:e},t){e("processi",t)},setGruppi({commit:e},t){e("gruppi",t)}}};var Ae=Se;i["a"].use(y["a"]);var Pe=new y["a"].Store({getters:Ce,modules:{navigation:De,tables:Ae}}),Oe=a("b462"),je=a.n(Oe),Fe=(a("3390"),a("bc3a"),a("4059")),Ee=a.n(Fe),Me=a("8af1"),Te=a.n(Me),ze=a("daa8"),Ye={install:function(e){e.prototype.$products=function(){return new Promise((e,t)=>{this.$api.service("prodotti").find({query:{$sort:{Settore:1,Ordine_Campo:1,Divisione:1}}}).then(e=>{Pe.dispatch("SetProducts",e.data);let t=this.$arrayGroup(e.data,"Settore","attivo");Pe.dispatch("SetSectors",t);let a=this.$arrayGroup(e.data,"Campo_Applicativo","attivo"),i=this.$arrayGroup(e.data,"Categorie","attivo");Pe.dispatch("SetApplications",a),Pe.dispatch("SetCategories",i)}),this.$api.service("pagine").find().then(e=>{Pe.dispatch("SetPagine",e.data)}),e(!0)})},e.prototype.$rappresentanze=function(){return new Promise((e,t)=>{this.$api.service("rappresentanze").find({query:{$sort:{rappresentanza:1}}}).then(t=>{e(t.data)}).catch(e=>{console.log(e)})})},e.prototype.$pages=function(){return new Promise((e,t)=>{this.$api.service("pagine").find({query:{layout:{$ne:"hidden"},$sort:{title:1}}}).then(t=>{e(t.data)}).catch(e=>{console.log(e)})})}}};const qe=Object(ze["a"])("http://localhost:3030",{transports:["websocket"],polling:{extraHeaders:{Authorization:"Basic000002121212121212222"}}});console.log(Object({NODE_ENV:"production",VUE_APP_API_URL:"http://localhost:3030/",BASE_URL:"/"}).VUE_APP_APIURL);const Ne=je()().configure(Ee()(qe,{timeout:2e4})).configure(Te()({storage:window.localStorage}));Pe.commit("locale",window.navigator.userLanguage||window.navigator.language);var Ie={install:function(e){e.prototype.$api=Ne}};function Le(e,t){return e<10?t+e:e}function Re(){Pe.dispatch("CloseNotify")}var Ue={install:function(e){e.prototype.$notify=function(e="",t=""){Pe.dispatch("SetNotify",{status:!0,title:e,error:t}),window.setTimeout(Re,3e3)},e.prototype.$dFormat=function(e="2020-01-01"){return e.split("-")[2]+" "+Pe.getters.months[parseInt(e.split("-")[1])-1]+" "+e.split("-")[0]},e.prototype.$dayFormat=function(e=new Date){let t=new Date(e),a=(t.getFullYear(),Le(t.getMonth()+1,"0")),i=Le(t.getDate(),"0"),s=t.getDay();return Pe.getters.days[s]+" "+i+"/"+a},e.prototype.$currentDate=function(e=new Date){let t=new Date(e),a=t.getFullYear(),i=Le(t.getMonth()+1,"0"),s=Le(t.getDate(),"0");Pe.dispatch("SetCurrentDate",a+"-"+i+"-"+s)},e.prototype.$reservationsDate=function(e=new Date){let t=new Date(e),a=t.getFullYear(),i=Le(t.getMonth()+1,"0"),s=Le(t.getDate(),"0");return a+"-"+i+"-"+s},e.prototype.$month=function(e=0){return Pe.getters.months[e]},e.prototype.$setCSS=function(e,t,a){return e+"{"+t+":"+a+";}"},e.prototype.$style=function(e){var t=document.createElement("style");t.innerHTML=e,document.body.appendChild(t)},e.prototype.$styleProp=function(e,t){let a="";a+=Object.keys(t).map(a=>e+"{"+a+":"+t[a]+";}");var i=document.createElement("style");i.innerHTML=a.replace(",",""),document.body.appendChild(i)},e.prototype.$price=function(e){let t=this.$tr("currency");return parseFloat(e.sale_price)>0?t+=parseFloat(e.sale_price).toFixed(2):t+=parseFloat(e.price).toFixed(2),t},e.prototype.$fullprice=function(e){let t=this.$tr("currency");return parseFloat(e.sale_price)>0?t+=parseFloat(e.price).toFixed(2):t="",t},e.prototype.$productPrice=function(e){return parseFloat(e.sale_price)>0?this.$tr("currency")+'<span class="price">'+parseFloat(e.sale_price).toFixed(2)+'</span><span class="striked-price">'+parseFloat(e.price).toFixed(2)+"</span>":this.$tr("currency")+'<span class="price">'+parseFloat(e.price).toFixed(2)+"</span>"},e.prototype.$salecolor=function(e){if(parseFloat(e)>0)return"error--text"},e.prototype.$totalQty=function(e,t=1,a=!0){let i=this.$tr("currency");return i=a?this.$tr("currency"):"",parseFloat(e.sale_price)>0?i+=(parseFloat(e.sale_price)*t).toFixed(2):i+=(parseFloat(e.price)*t).toFixed(2),i},e.prototype.$itemVariationPrice=function(e,t,a=1){let i=0;return parseFloat(e.sale_price)>0?i+=parseFloat(e.sale_price)*a:i+=parseFloat(e.price)*a,this.$store.state.shop.product.variations&&this.$store.state.shop.product.variations.map(e=>{i+=parseFloat(e.price)}),this.$tr("currency")+i.toFixed(2)},e.prototype.$discount=function(e){let t="";return parseFloat(e.sale_price)>0&&(t=(parseFloat(e.price)-parseFloat(e.sale_price))/parseFloat(e.price)*100,t="-"+parseInt(t).toString()+"%"),t},e.prototype.$slug=function(e){return e?e.split(" ").join("-").toLowerCase().replace(/[^a-z0-9-]/gi,""):e},e.prototype.$arraySort=function(e,t,a){if("undefined"!=e){let i,s=0;a&&(i=a);let l=e.sort((e,t)=>e.nr<t.nr?1:-1);return i&&l.map(e=>{s+=parseFloat(e[t])}),{sorted:l,total:s}}return null},e.prototype.$arrayGroup=function(e,t,a={}){if("undefined"!=e){let i=0,s=[],l=[],r=a,o=0,n=e.reduce((e,a)=>Object.assign(e,{[a[t]]:(e[a[t]]||[]).concat(a)}),{});Object.keys(n);return a&&Object.values(n).map(e=>{o=0,i=0,e.map(e=>{i++,o+=parseFloat(e[r])}),s.push(o),l.push(i)}),{keys:Object.keys(n),values:Object.values(n),sums:s,counters:l}}return null},e.prototype.$dateFormat=function(e=new Date,t="YYYY-MM-DD"){let a=e.getFullYear()+"-"+("00"+(e.getMonth()+1)).slice(-2)+"-"+("00"+e.getDate()).slice(-2);return"YYYY-MM-DD"===t?a:"DD-MM-YYYY"===t?a.split("-")[2]+"-"+a.split("-")[1]+"-"+a.split("-")[0]:"MM-DD-YYYY"===t?a.split("-")[1]+"-"+a.split("-")[2]+"-"+a.split("-")[0]:void 0},e.prototype.$DateTimeFormat=function(e=new Date,t="DD-MM-YYYY"){return"DD-MM-YYYY"===t?("00"+e.getDate()).slice(-2)+"-"+("00"+(e.getMonth()+1)).slice(-2)+"-"+e.getFullYear()+" "+("00"+e.getHours()).slice(-2)+":"+("00"+e.getMinutes()).slice(-2):"MM-DD-YYYY"===t?("00"+(e.getMonth()+1)).slice(-2)+"-"+("00"+e.getDate()).slice(-2)+"-"+e.getFullYear()+" "+("00"+e.getHours()).slice(-2)+":"+("00"+e.getMinutes()).slice(-2):void 0},e.prototype.$TimeFormat=function(e=new Date){return("00"+e.getHours()).slice(-2)+":"+("00"+e.getMinutes()).slice(-2)},e.prototype.$idDate=function(e){var t=e.toString().substring(0,8),a=new Date(1e3*parseInt(t,16)),i=["01","02","03","04","05","06","07","08","09","10","11","12"],s=a.getFullYear(),l=i[a.getMonth()],r=a.getDate(),o=a.getHours(),n=a.getMinutes();n<10&&(n="0"+n);a.getSeconds();var c=r+"/"+l+"/"+s+" "+o+":"+n;return c},e.prototype.$idDateNoTime=function(e){var t=e.toString().substring(0,8),a=new Date(1e3*parseInt(t,16)),i=["01","02","03","04","05","06","07","08","09","10","11","12"],s=a.getFullYear(),l=i[a.getMonth()],r=a.getDate(),o=(a.getHours(),a.getMinutes());o<10&&(o="0"+o);a.getSeconds();var n=r+"/"+l+"/"+s;return n},e.prototype.$strToDate=function(e="2018-01-01"){let t=e.split("-");return new Date(t[0],parseInt(t[1])-1,t[2])},e.prototype.$noDayOfWeek=function(e=new Date,t){if(e.getDay()!=t)return e},e.prototype.$hours=function(e=0,t=24,a=10){let i=[],s=[],l=[];for(e;e<t;e++)s.push(e.toString());i.push({values:s,className:"column1"});for(var r=0;r<60;r+=a)l.push(("00"+r.toString()).slice(-2));return i.push({values:l,className:"column2"}),i},e.prototype.$strCase=function(e){if(e){for(var t=e.toLowerCase().split(" "),a=0;a<t.length;a++)t[a]=t[a].charAt(0).toUpperCase()+t[a].substring(1);return t.join(" ")}return e},e.prototype.$resetStore=function(){console.log(Object.keys(this.$store._mutations)),console.log(this.$store);let e=Object.keys(this.$store._modules.root.state);e.map(e=>{console.log(e,typeof this.$store._modules.root.state[e])})}}};i["a"].use(Ie),i["a"].use(Ue),i["a"].use(Ye);a("def6");var Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("i",{staticClass:"material-icons cursor-pointer",class:e.$attrs.class,on:{click:function(t){return e.$emit("click")}}},[e._v(e._s(e.$attrs.icon))])},Ge=[],He={},Qe=Object(u["a"])(He,Ve,Ge,!1,null,null,null),Be=Qe.exports,We=a("ec45");a("411c");i["a"].component("UiTable",V),i["a"].component("UiCrud",J),i["a"].component("icon",Be),i["a"].component("datepicker",We["a"]),i["a"].config.productionTip=!1,new i["a"]({router:ke,store:Pe,render:e=>e(w)}).$mount("#app")},"85ec":function(e,t,a){},def6:function(e,t,a){}});